import{j as u,p as c,E as d,k as e,B as x,L as t,t as m,G as f}from"./index-37d7c688.js";import{u as g}from"./useInfiniteQuery-b13f6400.js";import{I as p}from"./IconArrowBarUp-c843ea71.js";async function n({params:s}){return(await u.get("/sale",{params:s})).data}function j({config:s,params:a}={}){return c({...s,queryKey:["sales",a],queryFn:()=>n({params:a}),keepPreviousData:!0})}function w({params:s}={}){return g({queryKey:["sales",{...s,infinite:!0}],queryFn:({pageParam:a=1})=>n({params:{...s,page:a}}),getNextPageParam:({metadata:a})=>a.hasNext?a.page+1:void 0,getPreviousPageParam:({metadata:a})=>a.hasPrev?a.page-1:void 0})}const h=()=>e.jsxs("div",{className:"w-full flex items-center px-5 py-2",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gray-200 animate-pulse rounded-lg"}),e.jsxs("div",{className:"flex-grow px-3 flex flex-col justify-between",children:[e.jsx("div",{className:"h-4 w-24 bg-gray-200 animate-pulse mb-2 rounded"}),e.jsx("div",{className:"h-3 w-36 bg-gray-200 animate-pulse rounded"})]})]}),y=s=>e.jsxs(t,{to:`/sales/${s.id}`,className:"w-full flex items-center active:bg-gray-100 px-5 py-2 transition cursor-pointer",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"rounded-lg p-2 bg-blue-100 text-blue-600",children:e.jsx(p,{className:"w-6 h-6"})})}),e.jsxs("div",{className:"flex-grow px-3 flex flex-col justify-between",children:[e.jsx("div",{className:"font-bold capitalize",children:"Penjualan"}),e.jsx("div",{className:"text-xs font-semibold text-gray-600",children:m(s.createdAt).format("D MMM YYYY HH:mm")})]}),e.jsx("div",{className:"flex-grow text-right",children:e.jsx("div",{className:"font-bold",children:f(s.total)})})]}),P=()=>{const{outlet:s}=d(),{data:a,isLoading:l,isError:i}=j({params:{outlet:s==null?void 0:s.id}});return l||i?e.jsx(e.Fragment,{children:Array(5).fill(0).map((r,o)=>e.jsx(h,{},`ssk_${o}`))}):e.jsxs(e.Fragment,{children:[a.result.map(r=>e.jsx(y,{...r},r.id)),e.jsx("div",{className:"px-5 py-3",children:a.result.length>0?e.jsx(x,{variant:"subtle",fullWidth:!0,component:t,to:"/transaction",children:"Lihat Semua"}):e.jsx("p",{children:"Belum Ada penjualan"})})]})};export{P as R,j as a,n as g,w as u};
