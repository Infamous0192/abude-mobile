import{J as ze,c as Q,a4 as Ae,b,r as p,u as W,R as S,S as ee,U as fe,d as He,f as F,j as P,h as R,q as T,p as U,t as I,k as e,G as h,B as j,A as $,E as k,V as pe,L as C,D as B,n as V,a5 as ve}from"./index-37d7c688.js";import{u as Ke}from"./RecentSales-8416e3ed.js";import{R as lt,g as it,a as ct}from"./RecentSales-8416e3ed.js";import{u as Qe}from"./useInfiniteQuery-b13f6400.js";import{T as We,D as je,N as Ue,S as Je}from"./SalesSummaries-5e475fbb.js";import{g as dt,u as ut}from"./SalesSummaries-5e475fbb.js";import{N as X,T as be}from"./NumberInput-198d2d3b.js";import{D as J,B as q}from"./DatePickerInput-cfb2e016.js";import{I as ge,a as ae}from"./IconArrowBarUp-c843ea71.js";import{T as ye,u as Ne}from"./use-form-9d9e9da1.js";import{a as we,P as Pe}from"./ProductPick-c3af7541.js";import{I as G}from"./IconChevronLeft-0d65b5dc.js";import{c as Ge,M as D}from"./Menu-5f861428.js";import{p as Xe}from"./Input-792a9a59.js";import{u as Ze}from"./use-uncontrolled-ca768ac3.js";import"./Popover-e9d07091.js";function te(a,s){return t=>{if(typeof t!="string"||t.trim().length===0)throw new Error(s);return`${a}-${t}`}}const Z={context:"Tabs component was not found in the tree",value:"Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value"},[ea,se]=ze(Z.context);var aa=Object.defineProperty,re=Object.getOwnPropertySymbols,sa=Object.prototype.hasOwnProperty,ta=Object.prototype.propertyIsEnumerable,ne=(a,s,t)=>s in a?aa(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t,ra=(a,s)=>{for(var t in s||(s={}))sa.call(s,t)&&ne(a,t,s[t]);if(re)for(var t of re(s))ta.call(s,t)&&ne(a,t,s[t]);return a};function na({orientation:a,inverted:s,placement:t},r,n){const l=a==="vertical";return n==="default"?{[l?t==="left"?"borderRight":"borderLeft":s?"borderTop":"borderBottom"]:`${b(2)} solid ${r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[3]}`}:n==="outline"?{[l?t==="left"?"borderRight":"borderLeft":s?"borderTop":"borderBottom"]:`${b(1)} solid ${r.colorScheme==="dark"?r.colors.dark[4]:r.colors.gray[3]}`}:n==="pills"?{gap:`calc(${r.spacing.sm} / 2)`}:{}}var la=Q((a,s,{variant:t})=>{const r=s.orientation==="vertical";return{tabsList:ra({display:"flex",flexWrap:"wrap",flexDirection:r?"column":"row",justifyContent:Ae[s.position],'& [role="tab"]':{flex:s.grow?1:void 0}},na(s,a,t))}});const ia=la;var ca=Object.defineProperty,oa=Object.defineProperties,da=Object.getOwnPropertyDescriptors,z=Object.getOwnPropertySymbols,Se=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable,le=(a,s,t)=>s in a?ca(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t,ua=(a,s)=>{for(var t in s||(s={}))Se.call(s,t)&&le(a,t,s[t]);if(z)for(var t of z(s))_e.call(s,t)&&le(a,t,s[t]);return a},ma=(a,s)=>oa(a,da(s)),xa=(a,s)=>{var t={};for(var r in a)Se.call(a,r)&&s.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&z)for(var r of z(a))s.indexOf(r)<0&&_e.call(a,r)&&(t[r]=a[r]);return t};const ha={grow:!1,position:"left"},De=p.forwardRef((a,s)=>{const t=W("TabsList",ha,a),{children:r,className:n,grow:l,position:m}=t,c=xa(t,["children","className","grow","position"]),{orientation:i,variant:x,color:d,radius:u,inverted:o,placement:f,classNames:v,styles:g,unstyled:N}=se(),{classes:_,cx:y}=ia({orientation:i,grow:l,color:d,position:m,radius:u,inverted:o,placement:f},{name:"Tabs",unstyled:N,classNames:v,styles:g,variant:x});return S.createElement(ee,ma(ua({},c),{className:y(_.tabsList,n),ref:s,role:"tablist","aria-orientation":i}),r)});De.displayName="@mantine/core/TabsList";var fa=Q((a,{orientation:s})=>({panel:{flex:s==="vertical"?1:void 0}}));const pa=fa;var va=Object.defineProperty,ja=Object.defineProperties,ba=Object.getOwnPropertyDescriptors,A=Object.getOwnPropertySymbols,Te=Object.prototype.hasOwnProperty,Ie=Object.prototype.propertyIsEnumerable,ie=(a,s,t)=>s in a?va(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t,ga=(a,s)=>{for(var t in s||(s={}))Te.call(s,t)&&ie(a,t,s[t]);if(A)for(var t of A(s))Ie.call(s,t)&&ie(a,t,s[t]);return a},ya=(a,s)=>ja(a,ba(s)),Na=(a,s)=>{var t={};for(var r in a)Te.call(a,r)&&s.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&A)for(var r of A(a))s.indexOf(r)<0&&Ie.call(a,r)&&(t[r]=a[r]);return t};const wa={},$e=p.forwardRef((a,s)=>{const t=W("TabsPanel",wa,a),{value:r,children:n,sx:l,className:m}=t,c=Na(t,["value","children","sx","className"]),i=se(),{classes:x,cx:d}=pa({orientation:i.orientation,color:i.color,radius:i.radius,inverted:i.inverted,placement:i.placement},{name:"Tabs",unstyled:i.unstyled,classNames:i.classNames,styles:i.styles,variant:i.variant}),u=i.getPanelId(r),o=i.value===r,f=i.keepMounted||o?n:null;return p.useEffect(()=>(i.setMountedPanelIds(v=>[...v,u]),i.setMountedPanelIds(v=>v.filter(g=>g!==u))),[u]),S.createElement(ee,ya(ga({},c),{ref:s,sx:[{display:o?void 0:"none"},...Xe(l)],className:d(x.panel,m),role:"tabpanel",id:u,"aria-labelledby":i.getTabId(r)}),f)});$e.displayName="@mantine/core/TabsPanel";var Pa=Object.defineProperty,Sa=Object.defineProperties,_a=Object.getOwnPropertyDescriptors,ce=Object.getOwnPropertySymbols,Da=Object.prototype.hasOwnProperty,Ta=Object.prototype.propertyIsEnumerable,oe=(a,s,t)=>s in a?Pa(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t,Y=(a,s)=>{for(var t in s||(s={}))Da.call(s,t)&&oe(a,t,s[t]);if(ce)for(var t of ce(s))Ta.call(s,t)&&oe(a,t,s[t]);return a},de=(a,s)=>Sa(a,_a(s));function Ia(a,{orientation:s,color:t,radius:r,inverted:n,placement:l},m){const c=s==="vertical",i=a.fn.variant({color:t,variant:"filled"}),x=b(a.fn.radius(r)),d=s==="vertical"?l==="left"?`${x} 0 0 ${x}`:` 0 ${x} ${x} 0`:n?`0 0 ${x} ${x}`:`${x} ${x} 0 0`;return m==="default"?de(Y({[c?l==="left"?"borderRight":"borderLeft":n?"borderTop":"borderBottom"]:`${b(2)} solid transparent`,[c?l==="left"?"marginRight":"marginLeft":n?"marginTop":"marginBottom"]:b(-2),borderRadius:d},a.fn.hover({backgroundColor:a.colorScheme==="dark"?a.colors.dark[6]:a.colors.gray[0],borderColor:a.colorScheme==="dark"?a.colors.dark[4]:a.colors.gray[3]})),{"&[data-active]":Y({borderColor:i.background,color:a.colorScheme==="dark"?a.white:a.black},a.fn.hover({borderColor:i.background}))}):m==="outline"?{borderRadius:d,border:`${b(1)} solid transparent`,[c?l==="left"?"borderRight":"borderLeft":n?"borderTop":"borderBottom"]:"none","&[data-active]":{borderColor:a.colorScheme==="dark"?a.colors.dark[4]:a.colors.gray[3],"&::before":{content:'""',backgroundColor:a.colorScheme==="dark"?a.colors.dark[7]:a.white,position:"absolute",bottom:c?0:n?"unset":b(-1),top:c?0:n?b(-1):"unset",[c?"width":"height"]:b(1),right:c?l==="left"?b(-1):"unset":0,left:c?l==="left"?"unset":b(-1):0}}}:m==="pills"?de(Y({borderRadius:a.fn.radius(r)},a.fn.hover({backgroundColor:a.colorScheme==="dark"?a.colors.dark[6]:a.colors.gray[0]})),{"&[data-active]":Y({backgroundColor:i.background,color:a.white},a.fn.hover({backgroundColor:i.background}))}):{}}var $a=Q((a,s,{variant:t})=>({tabLabel:{},tab:Y({position:"relative",padding:`${a.spacing.xs} ${a.spacing.md}`,paddingLeft:s.withIcon?a.spacing.xs:void 0,paddingRight:s.withRightSection?a.spacing.xs:void 0,fontSize:a.fontSizes.sm,whiteSpace:"nowrap",zIndex:0,display:"flex",alignItems:"center",justifyContent:s.orientation==="horizontal"?"center":void 0,lineHeight:1,"&:disabled":Y({opacity:.5,cursor:"not-allowed"},a.fn.hover({backgroundColor:"transparent"})),"&:focus":{zIndex:1}},Ia(a,s,t)),tabRightSection:{display:"flex",justifyContent:"center",alignItems:"center","&:not(:only-child)":{marginLeft:b(7)}},tabIcon:{display:"flex",justifyContent:"center",alignItems:"center","&:not(:only-child)":{marginRight:b(7)}}}));const ka=$a;var Ca=Object.defineProperty,Oa=Object.defineProperties,Ma=Object.getOwnPropertyDescriptors,H=Object.getOwnPropertySymbols,ke=Object.prototype.hasOwnProperty,Ce=Object.prototype.propertyIsEnumerable,ue=(a,s,t)=>s in a?Ca(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t,Ya=(a,s)=>{for(var t in s||(s={}))ke.call(s,t)&&ue(a,t,s[t]);if(H)for(var t of H(s))Ce.call(s,t)&&ue(a,t,s[t]);return a},Ra=(a,s)=>Oa(a,Ma(s)),Ea=(a,s)=>{var t={};for(var r in a)ke.call(a,r)&&s.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&H)for(var r of H(a))s.indexOf(r)<0&&Ce.call(a,r)&&(t[r]=a[r]);return t};const La={},Oe=p.forwardRef((a,s)=>{const t=W("TabsTab",La,a),{value:r,children:n,onKeyDown:l,onClick:m,className:c,icon:i,rightSection:x,color:d}=t,u=Ea(t,["value","children","onKeyDown","onClick","className","icon","rightSection","color"]),o=se(),f=!!i,v=!!x,{theme:g,classes:N,cx:_}=ka({withIcon:f||v&&!n,withRightSection:v||f&&!n,orientation:o.orientation,color:d||o.color,radius:o.radius,inverted:o.inverted,placement:o.placement},{name:"Tabs",unstyled:o.unstyled,classNames:o.classNames,styles:o.styles,variant:o.variant}),y=r===o.value,O=o.getPanelId(r),E=o.mountedPanelIds.includes(r)?O:void 0,M=L=>{o.onTabChange(o.allowTabDeactivation&&r===o.value?null:r),m==null||m(L)};return S.createElement(fe,Ra(Ya({},u),{unstyled:o.unstyled,className:_(N.tab,c),"data-active":y||void 0,ref:s,type:"button",role:"tab",id:o.getTabId(r),"aria-selected":y,tabIndex:y||o.value===null?0:-1,"aria-controls":E,onClick:M,onKeyDown:Ge({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:o.activateTabWithKeyboard,loop:o.loop,dir:g.dir,orientation:o.orientation,onKeyDown:l})}),i&&S.createElement("span",{className:N.tabIcon},i),n&&S.createElement("span",{className:N.tabLabel},n),x&&S.createElement("span",{className:N.tabRightSection},x))});Oe.displayName="@mantine/core/Tab";function Me({defaultValue:a,value:s,onTabChange:t,orientation:r,children:n,loop:l,id:m,activateTabWithKeyboard:c,allowTabDeactivation:i,variant:x,color:d,radius:u,inverted:o,placement:f,keepMounted:v=!0,classNames:g,styles:N,unstyled:_}){const y=He(m),[O,E]=p.useState([]),[M,L]=Ze({value:s,defaultValue:a,finalValue:null,onChange:t});return S.createElement(ea,{value:{placement:f,value:M,orientation:r,id:y,loop:l,activateTabWithKeyboard:c,getTabId:te(`${y}-tab`,Z.value),getPanelId:te(`${y}-panel`,Z.value),onTabChange:L,setMountedPanelIds:E,mountedPanelIds:O,allowTabDeactivation:i,variant:x,color:d,radius:u,inverted:o,keepMounted:v,classNames:g,styles:N,unstyled:_}},n)}Me.displayName="@mantine/core/TabsProvider";var qa=Q((a,{orientation:s,placement:t})=>({root:{display:s==="vertical"?"flex":void 0,flexDirection:t==="right"?"row-reverse":"row"}}));const Fa=qa;var Ba=Object.defineProperty,Va=Object.defineProperties,za=Object.getOwnPropertyDescriptors,K=Object.getOwnPropertySymbols,Ye=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable,me=(a,s,t)=>s in a?Ba(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t,Aa=(a,s)=>{for(var t in s||(s={}))Ye.call(s,t)&&me(a,t,s[t]);if(K)for(var t of K(s))Re.call(s,t)&&me(a,t,s[t]);return a},Ha=(a,s)=>Va(a,za(s)),Ka=(a,s)=>{var t={};for(var r in a)Ye.call(a,r)&&s.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&K)for(var r of K(a))s.indexOf(r)<0&&Re.call(a,r)&&(t[r]=a[r]);return t};const Qa={orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},w=p.forwardRef((a,s)=>{const t=W("Tabs",Qa,a),{defaultValue:r,value:n,orientation:l,loop:m,activateTabWithKeyboard:c,allowTabDeactivation:i,children:x,id:d,onTabChange:u,variant:o,color:f,className:v,unstyled:g,classNames:N,styles:_,radius:y,inverted:O,keepMounted:E,placement:M}=t,L=Ka(t,["defaultValue","value","orientation","loop","activateTabWithKeyboard","allowTabDeactivation","children","id","onTabChange","variant","color","className","unstyled","classNames","styles","radius","inverted","keepMounted","placement"]),{classes:Be,cx:Ve}=Fa({orientation:l,color:f,radius:y,inverted:O,placement:M},{unstyled:g,name:"Tabs",classNames:N,styles:_,variant:o});return S.createElement(Me,{activateTabWithKeyboard:c,defaultValue:r,orientation:l,onTabChange:u,value:n,id:d,loop:m,allowTabDeactivation:i,color:f,variant:o,radius:y,inverted:O,keepMounted:E,placement:M,classNames:N,styles:_,unstyled:g},S.createElement(ee,Ha(Aa({},L),{className:Ve(Be.root,v),id:d,ref:s}),x))});w.List=De;w.Tab=Oe;w.Panel=$e;w.displayName="@mantine/core/Tabs";var Ee=F("calendar","IconCalendar",[["path",{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z",key:"svg-0"}],["path",{d:"M16 3v4",key:"svg-1"}],["path",{d:"M8 3v4",key:"svg-2"}],["path",{d:"M4 11h16",key:"svg-3"}],["path",{d:"M11 15h1",key:"svg-4"}],["path",{d:"M12 15v3",key:"svg-5"}]]),Le=F("circle-plus","IconCirclePlus",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 12l6 0",key:"svg-1"}],["path",{d:"M12 9l0 6",key:"svg-2"}]]),qe=F("dots","IconDots",[["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]),Wa=F("minus","IconMinus",[["path",{d:"M5 12l14 0",key:"svg-0"}]]),Ua=F("plus","IconPlus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]]);async function Ja({data:a}){return(await P.post("/sale",a)).data}function Ga({config:a}={}){return R(Ja,{...a,onSuccess:(...s)=>{T.invalidateQueries(["sales"]),a!=null&&a.onSuccess&&a.onSuccess(...s)}})}async function Xa({id:a}){return(await P.delete(`/sale/${a}`)).data}function Ks({config:a}={}){return R(Xa,{...a,onSuccess:(...s)=>{T.invalidateQueries(["sales"]),a!=null&&a.onSuccess&&a.onSuccess(...s)}})}async function Za({id:a}){return(await P.get(`/sale/${a}`)).data}function es({config:a,id:s}){return U({...a,queryKey:["sale",s],queryFn:()=>Za({id:s})})}async function as({id:a,data:s}){return(await P.put(`/sale/${a}`,s)).data}function Qs({config:a}={}){return R(as,{...a,onSuccess:(...s)=>{T.invalidateQueries(["sales"]),T.invalidateQueries(["sale",s[1].id]),a!=null&&a.onSuccess&&a.onSuccess(...s)}})}async function ss({data:a}){return(await P.post("/purchase",a)).data}function ts({config:a}={}){return R(ss,{...a,onSuccess:(...s)=>{T.invalidateQueries(["purchases"]),a!=null&&a.onSuccess&&a.onSuccess(...s)}})}async function rs({id:a}){return(await P.delete(`/purchase/${a}`)).data}function Ws({config:a}={}){return R(rs,{...a,onSuccess:(...s)=>{T.invalidateQueries(["purchases"]),a!=null&&a.onSuccess&&a.onSuccess(...s)}})}async function ns({id:a}){return(await P.get(`/purchase/${a}`)).data}function ls({config:a,id:s}){return U({...a,queryKey:["purchase",s],queryFn:()=>ns({id:s})})}async function Fe({params:a}){return(await P.get("/purchase",{params:a})).data}function is({config:a,params:s}={}){return U({...a,queryKey:["purchases",s],queryFn:()=>Fe({params:s}),keepPreviousData:!0})}function cs({params:a}={}){return Qe({queryKey:["purchases",{...a,infinite:!0}],queryFn:({pageParam:s=1})=>Fe({params:{...a,page:s}}),getNextPageParam:({metadata:s})=>s.hasNext?s.page+1:void 0,getPreviousPageParam:({metadata:s})=>s.hasPrev?s.page-1:void 0})}async function os({id:a,data:s}){return(await P.put(`/purchase/${a}`,s)).data}function Us({config:a}={}){return R(os,{...a,onSuccess:(...s)=>{T.invalidateQueries(["purchases"]),T.invalidateQueries(["purchase",s[1].id]),a!=null&&a.onSuccess&&a.onSuccess(...s)}})}async function ds({params:a}){return(await P.get("/purchase/summary",{params:{...a,startDate:a!=null&&a.startDate?I(a==null?void 0:a.startDate).format("YYYY-MM-DD"):"",endDate:a!=null&&a.endDate?I(a==null?void 0:a.endDate).format("YYYY-MM-DD"):""}})).data}function us({config:a,params:s}={}){return U({...a,queryKey:["purchases-summary",s],queryFn:()=>ds({params:s})})}const ms=({product:a,items:s})=>{const t=s.filter(r=>a.id==r.product).at(0);return e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-700 font-bold",children:a.name}),e.jsxs("div",{className:"text-gray-500 text-xs font-medium",children:[t==null?void 0:t.quantity," x ",h((t==null?void 0:t.price)||a.price)]})]}),e.jsx("div",{children:h(((t==null?void 0:t.price)||a.price)*((t==null?void 0:t.quantity)||1))})]})},xs=({total:a,items:s,products:t})=>s.length==0?null:e.jsx("section",{className:"mt-6 px-5",children:e.jsxs("div",{className:"bg-white shadow-lg shadow-gray-100 rounded-xl p-5 font-bold text-sm mb-2",children:[t.filter(r=>s.filter(n=>n.product==r.id).length>0).map(r=>e.jsx(ms,{product:r,items:s},r.id)),e.jsxs("div",{className:"flex items-center justify-between border-t text-base border-dashed border-gray-400 pt-3",children:[e.jsx("div",{children:"Total"}),e.jsx("div",{children:h(a)})]})]})}),hs=({product:a,items:s})=>{const t=s.filter(r=>a.id==r.product).at(0);return e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-700 font-bold",children:a.name}),e.jsxs("div",{className:"text-gray-500 text-xs font-medium",children:[t==null?void 0:t.quantity," ",a.unit," x ",h(a.price)]})]}),e.jsx("div",{children:h(a.price*((t==null?void 0:t.quantity)??1))})]})},fs=({items:a,products:s})=>a.length==0?null:e.jsx("section",{className:"mt-6 px-5",children:e.jsxs("div",{className:"bg-white shadow-lg shadow-gray-100 rounded-xl p-5 font-bold text-sm mb-2",children:[s.filter(t=>a.filter(r=>r.product==t.id).length>0).map(t=>e.jsx(hs,{product:t,items:a},t.id)),e.jsxs("div",{className:"flex items-center justify-between border-t text-base border-dashed border-gray-400 pt-3",children:[e.jsx("div",{children:"Total"}),e.jsx("div",{children:h(a.reduce((t,r)=>t+r.quantity*(r.price||0),0))})]})]})}),ps=({items:a,onSubmit:s})=>{const t=a.reduce((r,n)=>r+n.quantity*(n.price||0),0);return e.jsx("div",{className:"max-w-md bottom-0 fixed bg-white py-4 w-full border-t border-gray-50 px-5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Total"}),e.jsx("div",{className:"font-bold",children:t>0?h(t):"-"})]}),e.jsx(j,{disabled:a.length==0,onClick:s,children:"Checkout"})]})})},vs=({product:a,onChange:s})=>{const[t,r]=p.useState(1);function n(l){l!==""&&(r(l),s(l))}return e.jsx("div",{className:"bg-white border border-gray-100 shadow-md shadow-gray-50 rounded-lg w-full px-5 py-3 mb-3",children:e.jsxs("div",{className:"flex w-full",children:[e.jsx("div",{className:"flex-grow flex items-center",children:e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-bold",children:a.name}),e.jsx("div",{className:"text-sm text-gray-600",children:h(a.price)})]})}),e.jsxs("div",{className:"flex items-center justify-center flex-shrink-0",children:[e.jsx($,{size:20,variant:"filled",color:"blue",radius:"100%",onClick:()=>n(t-1),children:e.jsx(Wa,{className:"p-px"})}),e.jsx(X,{hideControls:!0,min:0,step:1,variant:"unstyled",value:t,onChange:n,className:"[&_input]:w-8 [&_input]:text-center border-b border-gray-200 px-2"}),e.jsx($,{size:20,variant:"filled",color:"blue",radius:"100%",onClick:()=>n(t+1),children:e.jsx(Ua,{className:"p-px"})})]})]})})},js=({products:a,items:s,onChange:t})=>{function r(n){return l=>{if(l!==""){if(l<=0)return t(s.filter(m=>m.product!=n.id));t(s.map(m=>m.product==n.id?{...m,quantity:l}:m))}}}return e.jsx(e.Fragment,{children:a.filter(n=>s.filter(l=>l.product==n.id).length>0).map(n=>e.jsx(vs,{product:n,onChange:r(n)},n.id))})},bs=a=>e.jsxs(C,{to:`/sales/${a.id}`,className:"w-full flex items-center active:bg-gray-100 px-5 py-2 transition cursor-pointer",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"rounded-lg p-2 bg-blue-100 text-blue-600",children:e.jsx(ge,{className:"w-6 h-6"})})}),e.jsxs("div",{className:"flex-grow px-3 flex flex-col justify-between",children:[e.jsx("div",{className:"font-bold capitalize",children:"Penjualan"}),e.jsx("div",{className:"text-xs font-semibold text-gray-600",children:I(a.createdAt).format("D MMM YYYY HH:mm")})]}),e.jsx("div",{className:"flex-grow text-right",children:e.jsx("div",{className:"font-bold",children:h(a.total)})})]}),gs=()=>{const{outlet:a}=k(),[s,t]=p.useState({}),{data:r,isFetching:n,hasNextPage:l,fetchNextPage:m}=Ke({params:{...s,outlet:a==null?void 0:a.id},config:{enabled:!s.startDate&&!s.endDate||!!s.startDate&&!!s.endDate}}),c=r==null?void 0:r.pages.reduce((i,{result:x})=>[...i,...x],[]);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-5 mb-2",children:e.jsx(J,{icon:e.jsx(Ee,{size:14}),placeholder:"Rentang Tanggal",type:"range",clearable:!0,allowSingleDateInRange:!0,valueFormat:"D MMMM YYYY",value:[s.startDate??null,s.endDate??null],onChange:i=>{t({...s,startDate:i[0]||void 0,endDate:i[1]||void 0})}})}),(c==null?void 0:c.length)==0&&e.jsx("div",{className:"px-5",children:"Belum ada penjualan"}),c==null?void 0:c.map(i=>e.jsx(bs,{...i},i.id)),e.jsx("div",{className:"px-5 flex items-center justify-center py-4",children:n?e.jsx(pe,{}):l&&e.jsx(j,{variant:"subtle",fullWidth:!0,onClick:()=>m(),children:"Lihat Semua"})})]})},ys=()=>e.jsxs("div",{className:"w-full flex items-center px-5 py-2",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gray-200 animate-pulse rounded-lg"}),e.jsxs("div",{className:"flex-grow px-3 flex flex-col justify-between",children:[e.jsx("div",{className:"h-4 w-24 bg-gray-200 animate-pulse mb-2 rounded"}),e.jsx("div",{className:"h-3 w-36 bg-gray-200 animate-pulse rounded"})]})]}),Ns=a=>e.jsxs(C,{to:`/purchases/${a.id}`,className:"w-full flex items-center active:bg-gray-100 px-5 py-2 transition cursor-pointer",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"rounded-lg p-2 bg-orange-100 text-orange-600",children:e.jsx(ae,{className:"w-6 h-6"})})}),e.jsxs("div",{className:"flex-grow px-3 flex flex-col justify-between",children:[e.jsx("div",{className:"font-bold capitalize",children:"Pembelian"}),e.jsx("div",{className:"text-xs font-semibold text-gray-600",children:I(a.createdAt).format("D MMM YYYY HH:mm")})]}),e.jsx("div",{className:"flex-grow text-right",children:e.jsx("div",{className:"font-bold",children:h(a.total)})})]}),Js=()=>{const{outlet:a}=k(),{data:s,isLoading:t,isError:r}=is({params:{outlet:a==null?void 0:a.id}});return t||r?e.jsx(e.Fragment,{children:Array(5).fill(0).map((n,l)=>e.jsx(ys,{},`ssk_${l}`))}):e.jsx(e.Fragment,{children:s.result.map(n=>e.jsx(Ns,{...n},n.id))})},Gs=({onChange:a})=>{const[s,t]=p.useState("penjualan");function r(n){return()=>{t(n),a(n)}}return e.jsxs("section",{className:"flex items-center px-5 mb-4",children:[e.jsx(j,{radius:"lg",variant:s=="penjualan"?"filled":"light",onClick:r("penjualan"),className:"mr-2",children:"Penjualan"}),e.jsx(j,{radius:"lg",variant:s=="pembelian"?"filled":"light",onClick:r("pembelian"),className:"mr-2",children:"Pembelian"})]})},ws=({product:a,onChange:s})=>{const[t,r]=p.useState({quantity:1,price:a.price});function n(c){r({...t,price:c}),s({...t,price:c})}function l(c){r({...t,quantity:c}),s({...t,quantity:c})}function m(){r({...t,quantity:0}),s({...t,quantity:0})}return e.jsxs("div",{className:"grid grid-cols-12 gap-x-4 gap-y-2 pt-3",children:[e.jsx("div",{className:"col-span-12",children:e.jsx(ye,{label:"Nama Barang",value:a.name,readOnly:!0,rightSection:e.jsx(fe,{className:"text-xs text-red-600 pr-4",onClick:m,children:"Hapus"})})}),e.jsx("div",{className:"col-span-6",children:e.jsx(X,{label:"Harga",hideControls:!0,value:t.price,onChange:n,rightSection:e.jsxs("span",{className:"text-xs text-gray-600 pr-4",children:["/",a.unit]})})}),e.jsx("div",{className:"col-span-6",children:e.jsx(X,{label:"Jumlah",value:t.quantity,onChange:l})})]})},Ps=({products:a,items:s,onChange:t})=>{function r(n){return({price:l,quantity:m})=>{if(m!==""){if(m<=0)return t(s.filter(c=>c.product!=n.id));t(s.map(c=>c.product==n.id?{...c,price:l,quantity:m}:c))}}}return e.jsx("div",{className:"divide-y space-y-4 divide-gray-300",children:a.filter(n=>s.filter(l=>l.product==n.id).length>0).map(n=>e.jsx(ws,{product:n,onChange:r(n)},n.id))})},Ss=a=>e.jsxs(C,{to:`/purchases/${a.id}`,className:"w-full flex items-center active:bg-gray-100 px-5 py-2 transition cursor-pointer",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"rounded-lg p-2 bg-orange-100 text-orange-600",children:e.jsx(ae,{className:"w-6 h-6"})})}),e.jsxs("div",{className:"flex-grow px-3 flex flex-col justify-between",children:[e.jsx("div",{className:"font-bold capitalize",children:"Pembelian"}),e.jsx("div",{className:"text-xs font-semibold text-gray-600",children:I(a.createdAt).format("D MMM YYYY HH:mm")})]}),e.jsx("div",{className:"flex-grow text-right",children:e.jsx("div",{className:"font-bold",children:h(a.total)})})]}),_s=()=>{const{outlet:a}=k(),[s,t]=p.useState({}),{data:r,isFetching:n,hasNextPage:l,fetchNextPage:m}=cs({params:{...s,outlet:a==null?void 0:a.id},config:{enabled:!s.startDate&&!s.endDate||!!s.startDate&&!!s.endDate}}),c=r==null?void 0:r.pages.reduce((i,{result:x})=>[...i,...x],[]);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-5 mb-2",children:e.jsx(J,{icon:e.jsx(Ee,{size:14}),placeholder:"Rentang Tanggal",type:"range",clearable:!0,allowSingleDateInRange:!0,valueFormat:"D MMMM YYYY",value:[s.startDate??null,s.endDate??null],onChange:i=>{t({...s,startDate:i[0]||void 0,endDate:i[1]||void 0})}})}),(c==null?void 0:c.length)==0&&e.jsx("div",{className:"px-5",children:"Belum ada pembelian"}),c==null?void 0:c.map(i=>e.jsx(Ss,{...i},i.id)),e.jsx("div",{className:"px-5 flex items-center justify-center py-4",children:n?e.jsx(pe,{}):l&&e.jsx(j,{variant:"subtle",fullWidth:!0,onClick:()=>m(),children:"Lihat Semua"})})]})},Ds=({withProduct:a,...s})=>{var d;const{data:t,isLoading:r,isError:n}=us({params:s}),l=t==null?void 0:t.reduce((u,o)=>[u[0]+o.quantity,u[1]+o.total],[0,0]),m=p.useId();function c(){return!a||!t?null:(t??[]).reduce((u,o)=>{const f=u.find(v=>v.id===o.id);return f?(f.quantity+=o.quantity,f.total+=o.total):u.push({id:o.id,name:o.name,quantity:o.quantity,total:o.total}),u},[])}const i=()=>e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"text-center text-red-600",children:e.jsx("div",{className:"py-4",children:"Terjadi Kesalahan"})})}),x=()=>e.jsxs(e.Fragment,{children:[e.jsx("tr",{children:e.jsx("td",{colSpan:4,children:e.jsx("div",{className:"bg-gray-200 w-full h-4 rounded-sm animate-pulse"})})}),e.jsx("tr",{children:e.jsx("td",{colSpan:4,children:e.jsx("div",{className:"bg-gray-200 w-full h-4 rounded-sm animate-pulse"})})}),e.jsx("tr",{children:e.jsx("td",{colSpan:4,children:e.jsx("div",{className:"bg-gray-200 w-full h-4 rounded-sm animate-pulse"})})})]});return e.jsx("div",{className:"overflow-auto relative shadow-lg shadow-gray-200 bg-white rounded-md",children:e.jsxs(We,{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"whitespace-nowrap",children:"Tanggal"}),e.jsx("th",{className:"whitespace-nowrap",children:"Barang"}),e.jsx("th",{children:"Jumlah"}),e.jsx("th",{children:"Total"})]})}),e.jsxs("tbody",{children:[r&&e.jsx(x,{}),n&&e.jsx(i,{}),!r&&!n&&e.jsxs(e.Fragment,{children:[t.map(({name:u,date:o,total:f,quantity:v},g)=>e.jsxs("tr",{children:[e.jsx("td",{children:I(o,"YYYY-MM-DD").format("DD MMMM YYYY")}),e.jsx("td",{children:u}),e.jsx("td",{children:v}),e.jsx("td",{children:h(f)})]},`${m}_${g}`)),(d=c())==null?void 0:d.map(u=>e.jsxs("tr",{className:"bg-gray-50 font-bold",children:[e.jsx("td",{colSpan:2,className:" text-center",children:u.name}),e.jsx("td",{className:"",children:u.quantity}),e.jsx("td",{children:e.jsx("span",{className:"",children:h(u.total)})})]},u.id)),l?e.jsxs("tr",{children:[e.jsx("td",{colSpan:3,className:"w-full",children:e.jsx("div",{className:"font-bold text-center",children:"Total"})}),e.jsx("td",{children:e.jsx("span",{className:"font-bold",children:h(l[1])})})]}):e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"text-center",children:e.jsx("div",{className:"py-4",children:"Data tidak ditemukan"})})})]})]})]})})},Ts=({status:a})=>{switch(a){case"approved":return e.jsx(q,{color:"green",children:"Approved"});case"accepted":return e.jsx(q,{color:"gray",children:"Diterima"});case"canceled":return e.jsx(q,{color:"red",children:"Dibatalkan"});default:return null}},Is=({status:a})=>{switch(a){case"success":return e.jsx(q,{color:"green",children:"Success"});case"canceled":return e.jsx(q,{color:"red",children:"Dibatalkan"});default:return null}},xe={customer:"Umum",source:"outlet",note:"",items:[]},Xs=()=>{const{outlet:a}=k(),{data:s}=we({params:{company:a==null?void 0:a.company.id,limit:-1,category:"sale"}}),{mutateAsync:t}=Ga(),r=Ne({initialValues:{...xe,sourceId:(a==null?void 0:a.id)??0,date:new Date}}),n=(s==null?void 0:s.result)??[],l=s==null?void 0:s.result.filter(({isDefault:d})=>d);p.useEffect(()=>{!s||!l||r.setFieldValue("items",[...l.map(({id:d,price:u})=>({product:d,quantity:1,price:u}))])},[s]);function m(d){r.setFieldValue("items",d)}function c(d){r.setFieldValue("items",[...r.values.items,{product:d.id,quantity:1,price:d.price}]),B.closeAll()}function i(){const d=r.values.items;B.open({title:"Tambah Barang",children:e.jsx(Pe,{products:n.filter(u=>!(d.filter(o=>o.product==u.id).length>0)),onSubmit:c})})}async function x(){await t({data:r.values},{onSuccess:()=>{V.show({color:"green",message:"Penjualan berhasil dibuat",autoClose:1e3}),r.setValues({...r.values,date:new Date,...xe,items:[...(l??[]).map(({id:d,price:u})=>({product:d,quantity:1,price:u}))]})},onError:()=>{V.show({color:"red",message:"Penjualan gagal dibuat",autoClose:1e4})}})}return e.jsxs("main",{className:"mb-32",children:[e.jsx("header",{className:"px-4 sticky top-0 z-10 bg-white py-3.5",children:e.jsxs(C,{to:"/",className:"flex items-center",children:[e.jsx($,{variant:"transparent",children:e.jsx(G,{className:"text-gray-800"})}),e.jsx("div",{className:"font-bold ml-4",children:"Penjualan"})]})}),e.jsxs("section",{className:"px-5 space-y-3 pb-3 mt-3",children:[e.jsx(je,{...r.getInputProps("date"),label:"Tanggal",variant:"filled",valueFormat:"D MMMM YYYY HH:mm"}),e.jsx(ye,{...r.getInputProps("customer"),label:"Nama Customer",variant:"filled",placeholder:"Masukan nama customer",withAsterisk:!0}),e.jsx(be,{...r.getInputProps("note"),label:"Catatan",placeholder:"Tambahkan catatan",variant:"filled"})]}),e.jsxs("section",{className:"px-5 py-2",children:[e.jsx("h3",{className:"text-sm text-gray-900 mb-1.5 font-medium",children:"Barang"}),e.jsx(js,{products:n,items:r.values.items,onChange:m}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsx(j,{variant:"subtle",leftIcon:e.jsx(Le,{size:16}),size:"xs",onClick:i,disabled:(n==null?void 0:n.length)==r.values.items.length,children:"Tambah Barang"})})]}),e.jsx(fs,{items:r.values.items,products:n}),e.jsx(ps,{items:r.values.items,onSubmit:x})]})},Zs=()=>{const{id:a}=ve(),{data:s,isLoading:t,isError:r}=es({id:parseInt(a)});return t||r?null:e.jsxs("main",{className:"bg-white min-h-screen pb-6 relative",children:[e.jsx("header",{className:"px-4 sticky top-0 z-10 bg-white py-3.5",children:e.jsxs(C,{to:"/",className:"flex items-center",children:[e.jsx($,{variant:"transparent",children:e.jsx(G,{className:"text-gray-800"})}),e.jsx("div",{className:"font-bold ml-4",children:"Kembali"})]})}),e.jsxs("section",{className:"flex flex-col items-center justify-center mt-8",children:[e.jsx("div",{className:"bg-blue-100 text-blue-600 p-2 rounded-lg",children:e.jsx(ge,{className:"w-8 h-8"})}),e.jsx("div",{className:"font-bold text-lg mt-2",children:"Penjualan"})]}),e.jsxs("section",{className:"px-5 py-4",children:[e.jsxs("section",{className:"border-b border-dashed border-gray-400 pb-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-3",children:[e.jsx("div",{className:"text-gray-600 font-medium",children:"Kode"}),e.jsx("div",{className:"font-bold",children:s.code})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm mb-3",children:[e.jsx("div",{className:"text-gray-600 font-medium",children:"Customer"}),e.jsx("div",{className:"font-bold",children:s.customer})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm mb-3",children:[e.jsx("div",{className:"text-gray-600 font-medium",children:"Tanggal Transaksi"}),e.jsx("div",{className:"font-bold",children:I(s.createdAt).format("D MMMM YYYY HH:mm")})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm mb-3",children:[e.jsx("div",{className:"text-gray-600 font-medium",children:"Status"}),e.jsx(Ts,{status:s.status})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm mb-3",children:[e.jsx("div",{className:"text-gray-600 font-medium",children:"Pegawai"}),e.jsx("div",{className:"font-bold",children:s.user.name})]}),e.jsxs("div",{className:"text-sm mt-3",children:[e.jsx("div",{className:"text-gray-600 font-medium mb-1",children:"Catatan"}),e.jsx("div",{className:"text-gray-800 text-xs font-medium",children:s.note||"(tidak ada catatan)"})]})]}),e.jsx("div",{className:"py-3",children:s.items.map(n=>e.jsxs("div",{className:"flex justify-between mb-3 last:mb-0",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-bold",children:n.product.name}),e.jsxs("div",{className:"text-gray-600 text-xs font-medium",children:[n.quantity," ",n.product.unit," x ",h(n.price)]})]}),e.jsx("div",{className:"font-bold",children:h(n.total)})]},n.id))}),e.jsxs("div",{className:"flex items-center justify-between border-t text-base border-dashed border-gray-400 pt-4",children:[e.jsx("div",{className:"font-bold",children:"Total"}),e.jsx("div",{className:"font-bold",children:h(s.total)})]})]}),e.jsxs("div",{className:"fixed bottom-0 bg-white max-w-md py-4 px-5 flex w-full items-center space-x-4 border-t border-gray-200",children:[e.jsx(j,{fullWidth:!0,children:"Cetak"}),e.jsxs(D,{position:"top-end",width:200,children:[e.jsx(D.Target,{children:e.jsx($,{variant:"outline",color:"gray",size:"lg",children:e.jsx(qe,{})})}),e.jsx(D.Dropdown,{children:e.jsx(D.Item,{color:"red",children:"Batalkan Pesanan"})})]})]})]})},et=()=>{const[a,s]=p.useState("sale");function t(){switch(a){case"sale":return e.jsx(gs,{});case"purchase":return e.jsx(_s,{});default:return null}}return e.jsxs("main",{children:[e.jsx("header",{className:"px-5 mt-8 mb-4",children:e.jsx("h1",{className:"font-bold text-xl",children:"Riwayat Transaksi"})}),e.jsxs("section",{className:"flex items-center px-5 mb-4",children:[e.jsx(j,{radius:"lg",variant:a=="sale"?"filled":"light",onClick:()=>s("sale"),className:"mr-2",children:"Penjualan"}),e.jsx(j,{radius:"lg",variant:a=="purchase"?"filled":"light",onClick:()=>s("purchase"),className:"mr-2",children:"Pembelian"})]}),e.jsx("section",{className:"pb-24",children:t()})]})},he={source:"outlet",note:"",items:[]},at=()=>{const{outlet:a}=k(),{data:s}=we({params:{company:a==null?void 0:a.company.id,limit:-1,category:"purchase"}}),{mutateAsync:t}=ts(),r=Ne({initialValues:{...he,sourceId:(a==null?void 0:a.id)??0,date:new Date}}),n=(s==null?void 0:s.result)??[],l=r.values.items.reduce((d,u)=>d+u.quantity*(u.price||0),0);function m(d){r.setFieldValue("items",d)}function c(d){r.setFieldValue("items",[...r.values.items,{product:d.id,quantity:1,price:d.price,type:"stock"}]),B.closeAll()}function i(){const d=r.values.items;B.open({title:"Tambah Barang",children:e.jsx(Pe,{products:n.filter(u=>!(d.filter(o=>o.product==u.id).length>0)),onSubmit:c})})}async function x(){await t({data:r.values},{onSuccess:()=>{V.show({color:"green",message:"Pembelian berhasil dibuat",autoClose:1e3}),r.setValues({...r.values,date:new Date,...he})},onError:()=>{V.show({color:"red",message:"Pembelian gagal dibuat",autoClose:1e3})}})}return e.jsxs("main",{className:"mb-32",children:[e.jsx("header",{className:"px-4 sticky top-0 z-10 bg-white py-3.5",children:e.jsxs(C,{to:"/",className:"flex items-center",children:[e.jsx($,{variant:"transparent",children:e.jsx(G,{className:"text-gray-800"})}),e.jsx("div",{className:"font-bold ml-4",children:"Pembelian"})]})}),e.jsxs("section",{className:"px-5 mt-3 space-y-3",children:[e.jsx(je,{...r.getInputProps("date"),label:"Tanggal",variant:"filled",valueFormat:"D MMMM YYYY HH:mm"}),e.jsx(be,{...r.getInputProps("note"),label:"Catatan",placeholder:"Tambahkan catatan",variant:"filled"})]}),e.jsxs("section",{className:"px-5",children:[e.jsx(Ps,{products:n,items:r.values.items,onChange:m}),e.jsx("div",{className:"flex items-center justify-end mt-4",children:e.jsx(j,{variant:"subtle",leftIcon:e.jsx(Le,{size:16}),size:"xs",onClick:i,disabled:(n==null?void 0:n.length)==r.values.items.length,children:"Tambah Barang"})})]}),e.jsx(xs,{total:l,items:r.values.items,products:n}),e.jsx("div",{className:"max-w-md bottom-0 fixed bg-white py-4 w-full border-t border-gray-50 px-5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-600",children:"Total"}),e.jsx("div",{className:"font-bold",children:l>0?h(l):"-"})]}),e.jsx(j,{disabled:r.values.items.length==0,onClick:x,children:"Checkout"})]})})]})},st=()=>{const{id:a}=ve(),{data:s,isLoading:t,isError:r}=ls({id:parseInt(a)});return t||r?null:e.jsxs("main",{className:"bg-white min-h-screen pb-6 relative",children:[e.jsx("header",{className:"px-4 sticky top-0 z-10 bg-white py-3.5",children:e.jsxs(C,{to:"/",className:"flex items-center",children:[e.jsx($,{variant:"transparent",children:e.jsx(G,{className:"text-gray-800"})}),e.jsx("div",{className:"font-bold ml-4",children:"Kembali"})]})}),e.jsxs("section",{className:"flex flex-col items-center justify-center mt-8",children:[e.jsx("div",{className:"bg-orange-100 text-orange-600 p-2 rounded-lg",children:e.jsx(ae,{className:"w-8 h-8"})}),e.jsx("div",{className:"font-bold text-lg mt-2",children:"Pembelian"})]}),e.jsxs("section",{className:"px-5 py-4",children:[e.jsxs("section",{className:"border-b border-dashed border-gray-400 pb-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-3",children:[e.jsx("div",{className:"text-gray-600 font-medium",children:"Kode"}),e.jsx("div",{className:"font-bold",children:s.code})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm mb-3",children:[e.jsx("div",{className:"text-gray-600 font-medium",children:"Tanggal Transaksi"}),e.jsx("div",{className:"font-bold",children:I(s.createdAt).format("D MMMM YYYY HH:mm")})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm mb-3",children:[e.jsx("div",{className:"text-gray-600 font-medium",children:"Status"}),e.jsx(Is,{status:s.status})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm mb-3",children:[e.jsx("div",{className:"text-gray-600 font-medium",children:"Pegawai"}),e.jsx("div",{className:"font-bold",children:s.user.name})]}),e.jsxs("div",{className:"text-sm mt-3",children:[e.jsx("div",{className:"text-gray-600 font-medium mb-1",children:"Catatan"}),e.jsx("div",{className:"text-xs font-medium",children:s.note})]})]}),e.jsx("div",{className:"py-3",children:s.items.map(n=>e.jsxs("div",{className:"flex justify-between mb-3 last:mb-0",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-bold",children:n.product.name}),e.jsxs("div",{className:"text-gray-600 text-xs font-medium",children:[n.quantity," ",n.product.unit," x ",h(n.price)]})]}),e.jsx("div",{className:"font-bold",children:h(n.total)})]},n.id))}),e.jsxs("div",{className:"flex items-center justify-between border-t text-base border-dashed border-gray-400 pt-4",children:[e.jsx("div",{className:"font-bold",children:"Total"}),e.jsx("div",{className:"font-bold",children:h(s.total)})]})]}),e.jsxs("div",{className:"fixed bottom-0 bg-white max-w-md py-4 px-5 flex w-full items-center space-x-4 border-t border-gray-200",children:[e.jsx(j,{fullWidth:!0,children:"Cetak"}),e.jsxs(D,{position:"top-end",width:200,children:[e.jsx(D.Target,{children:e.jsx($,{variant:"outline",color:"gray",size:"lg",children:e.jsx(qe,{})})}),e.jsx(D.Dropdown,{children:e.jsx(D.Item,{color:"red",children:"Batalkan Pesanan"})})]})]})]})},$s=()=>{const{outlet:a}=k(),[s,t]=p.useState({outlet:a==null?void 0:a.id});return e.jsxs("section",{children:[e.jsx(J,{type:"range",valueFormat:"D MMMM YYYY",label:"Rentang Tanggal",placeholder:"Pilih Tanggal",value:[s.startDate??null,s.endDate??null],allowSingleDateInRange:!0,onChange:([r,n])=>t({...s,startDate:r??void 0,endDate:n??void 0})}),e.jsx("div",{className:"mt-4",children:e.jsx(Je,{...s,withProduct:!0})})]})},ks=()=>{const{outlet:a}=k(),[s,t]=p.useState({outlet:a==null?void 0:a.id});return e.jsxs("section",{children:[e.jsx(J,{type:"range",valueFormat:"D MMMM YYYY",label:"Rentang Tanggal",placeholder:"Pilih Tanggal",value:[s.startDate??null,s.endDate??null],allowSingleDateInRange:!0,onChange:([r,n])=>t({...s,startDate:r??void 0,endDate:n??void 0})}),e.jsx("div",{className:"mt-4",children:e.jsx(Ds,{...s,withProduct:!0})})]})},tt=()=>{const[a,s]=p.useState("sale");return e.jsxs("main",{children:[e.jsx(Ue,{title:"Statistik Harian",withBorder:!0,to:"/"}),e.jsx("div",{className:"px-5",children:e.jsxs(w,{variant:"pills",unstyled:!0,radius:"xl",value:a,onTabChange:t=>s(t??""),children:[e.jsxs(w.List,{children:[e.jsx(j,{component:w.Tab,value:"sale",variant:a=="sale"?"filled":"light",radius:"lg",className:"mr-2",children:"Penjualan"}),e.jsx(j,{component:w.Tab,value:"purchase",variant:a=="purchase"?"filled":"light",radius:"lg",className:"mr-2",children:"Pembelian"})]}),e.jsx(w.Panel,{value:"sale",pt:"xs",children:e.jsx($s,{})}),e.jsx(w.Panel,{value:"purchase",pt:"xs",children:e.jsx(ks,{})})]})})]})};export{at as PurchaseCreate,st as PurchaseDetail,Ps as PurchaseItemList,_s as PurchaseList,Is as PurchaseStatus,xs as PurchaseSummary,Ds as PurchasesSummaries,Js as RecentPurchase,lt as RecentSales,Xs as SaleCreate,Zs as SaleDetail,js as SaleItemList,gs as SaleList,Ts as SaleStatus,ps as SaleSubmit,fs as SaleSummary,Je as SalesSummaries,tt as TransactionSummary,Gs as TransactionTab,et as Transactions,ss as createPurchase,Ja as createSale,rs as deletePurchase,Xa as deleteSale,ns as getPurchase,Fe as getPurchases,ds as getPurchasesSummary,Za as getSale,it as getSales,dt as getSalesSummary,os as updatePurchase,as as updateSale,ts as useCreatePurchase,Ga as useCreateSale,Ws as useDeletePurchase,Ks as useDeleteSale,cs as useInfinitePurchases,Ke as useInfiniteSales,ls as usePurchase,is as usePurchases,us as usePurchasesSummary,es as useSale,ct as useSales,ut as useSalesSummary,Us as useUpdatePurchase,Qs as useUpdateSale};
